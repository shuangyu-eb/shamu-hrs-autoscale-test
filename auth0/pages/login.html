<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
  <link rel="icon" href="##ENVIRONMENT_URL##/favicon.ico" />

  <style>
    :root {
      --background-color: #f0f2f5;
      --primary-color: #ff6600;
      --blue: #0075DF;
      --step-bar-background: #f0f2f5;
      --border-color: #dfe2e9;
      --password-helper-dot: #ff6600;
      --font-color: #2E3033;
      --grey-font: #7b7e84;
      --error-font-color: #4a4a4a;
      --light-periwinkle-two:#d8dadf;
      --white:#ffffff;
    }

    body {
      height: 98%;
      width: 98%;
      background-color: var(--background-color);
      margin: 2px;
    }

    #sign-in-container {
      display: none;
    }

    #sign-up-container {
      display: none;
    }

    #verify-token-container {
      display: none;
    }

    #privacy-policy-tip {
      height: 12px;
      margin-top: 15px;
      margin-bottom: -10px;
    }

    #privacy-policy-tip > a {
      font-size: 12px;
      color: var(--blue);
    }

    .navbar {
      width: 100%;
      height: 72px;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background-color: white;
      border-bottom: 1px solid var(--border-color);
      z-index: 99;
    }

    .navbar img {
      width: 40px;
      max-height: 38px;
      display: block;
    }

    .navbar > div {
      width: 72px;
      height: 72px;
      border-right: 1px solid var(--border-color);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .form-container {
      display: table;
      width: 100%;
      height: 100%;
      padding-top: 73px;
    }

    .auth-form {
      display: table-cell;
      text-align: center;
      vertical-align: middle;
      width: 100%;
      overflow: hidden;
      height: 100%;
    }

    .auth-form-center {
      display: inline-block;
      justify-content: center;
      align-items: center;
    }

    .form-title {
      font-family: Roboto;
      font-size: 36px;
      text-align: center;
      color: var(--font-color);
      height: 33px;
      font-weight: normal;
      font-style: normal;
      font-stretch: normal;
      line-height: normal;
      letter-spacing: 0.8px;
      margin-bottom: 40px;
    }

    .form-item {
      margin-bottom: 20px;
      text-align: left;
    }

    .form-label {
      font-weight: 500;
      line-height: 1.17;
      letter-spacing: normal;
      margin-bottom: 8px;
      font-family: Roboto;
      font-size: 12px;
      font-style: normal;
      font-stretch: normal;
      color: var(--font-color);
    }

    .form-input {
      position: relative;
    }

    .form-input input {
      width: 100%;
      height: 40px;
      border-radius: 4px;
      border: solid 1px #d8dadf;
      background-color: white;

      padding: 5px 5px 5px 45px;
    }

    .form-input input:focus {
      outline: none;
    }

    .input-prefix {
      width: 40px;
      height: 38px;
      border-radius: 4px 0 0 4px;
      border: solid 1px var(--border-color);
      background-color: #f7f8fa;
      position: absolute;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .input-prefix img {
      width: 25px;
      height: 25px;
    }

    .form-submit-button {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    .form-submit-button button {
      width: 168px;
      height: 40px;
      border-radius: 20px;
      box-shadow: 2px 2px 4px 0 rgba(72, 142, 255, 0.12), 0 2px 4px 0 rgba(0, 0, 0, 0.12);
      background-color: var(--blue);
      outline: none;
      border: 0;
      display: inline-block;
      font-size: 14px;
      color: white;
      cursor: pointer;
      font-family: Roboto;
      font-weight: 500;
      font-style: normal;
      font-stretch: normal;
      line-height: 1.29;
      letter-spacing: 0.24px;
      text-align: center;
    }

    .form-tip {
      display: flex;
      justify-content: center;
      font-size: 14px;
      margin-top: 15px;
      margin-bottom: 0;
      height: 16px;
      cursor: pointer;
      font-family: Roboto;
      font-weight: normal;
      font-style: normal;
      font-stretch: normal;
      line-height: normal;
      letter-spacing: 0.31px;
      text-align: center;
      color: var(--blue);
    }

    .line {
      width: 120%;
      max-width: 358px;
      margin-top: 20px;
      border: solid 1px var(--background-color);
      margin-left: -25px;
      border-bottom: none;
    }

    .service-and-policy {
      font-size: 13px;
      color: var(--grey-font);
      text-align: center;
      margin-top: 15px;
    }

    .service-and-policy > p {
      font-size: 13px;
      color: var(--grey-font);
      text-align: center;
      display: inline-block;
    }

    .service-and-policy span {
      color: var(--blue);
      cursor: pointer;
    }

    .policy-description {
      margin-top: 0;
      margin-bottom: -10px;
      text-align: center;
    }

    .policy-description > a {
      color: var(--blue);
    }

    .sign-up-password-helper-dot {

      height: 8px;
      width: 8px;
      display: inline-block;
      margin-right: 5px;
      background-color: var(--password-helper-dot);
      border-radius: 50%;
    }

    .sign-up-password-tip {
      font-size: 12px;
      margin-top: 5px;
      margin-bottom: 5px;
      display: flex;
      align-items: center;
    }

    .sign-up-password-rule-passed {
      color: #9C9FA6;
    }

    .sign-up-password-helper {
      width: 9px;
      height: 9px;
      margin-right: 5px;
    }

    .sign-up-password-tip-container {
      margin-top: 14px;
    }

    .required-tip {
      margin-top: 15px;
      color: #b7b7b7;;
      font-size: 12px;
    }

    .error-img {
      display: inline-block;
      width: 16px;
      height: 16px;
      vertical-align: text-bottom;
      margin-right: 3px;
    }

    .error-img img {
      width: 100%;
      height: 100%;
    }

    .error-info {
      font-size: 12px;
      color: red;
    }

    .error-tip-container {
      display: none;
    }

    .error-not-blank-tip-container {
      display: none;
    }

    .sign-up-password-rule-passed {
      display: none;
    }

    #error-message-container > img {
      height: 25px;
      width: 25px;
    }

    #error-message-container {
      display: none;
      align-items: center;
      box-shadow: 0 0 8px var(--border-color);
      position: fixed;
      right: 15px;
      top: 15px;
      z-index: 99;
      border-radius: 4px;
      padding: 15px 15px 15px 15px;
    }

    #error-message {
      display: block;
      background-color: white;
      border-radius: 12px;
      color: var(--error-font-color);
      padding-left: 8px;
      padding-right: 8px;
      font-family: "Roboto", sans-serif;
      line-height: 1.5;
    }

    button[disabled] {
      background-color: var(--border-color);
      box-shadow: none;
    }

    .account-tab-item {
      display: inline-block;
      width: 310px;
      justify-content: center;
      align-items: center;
      background-color: #FFFFFF;
      border-radius: 12px;
      padding: 28px 26px 34px 26px;
    }

    .account-tab-item:focus {
      border: 0;
      outline: 0;
    }

    .page-steps {
      display: flex;
      width: 300px;
      margin: 95px auto 15px auto;
    }

    .page-steps .page-step-component {
      height: 30px;
    }

    .page-steps .page-step-component .item-title{
      height: 14px;
      font-size: 12px;
      font-weight: 500;
      letter-spacing: .3px;
      text-align: center;
      color: grey;
      position: relative;
      display: block;
      margin-top: 6px;
      padding-top: 3px;
    }

    .page-steps .page-step-component .item-description {
      width: 148px;
      font-size: 12px;
      letter-spacing: .3px;
      text-align: center;
      color: black;
      display: inline-block;
      margin-bottom: 5px;
    }

    .page-steps .page-step-component .item-icon {
      width: 4px;
      height: 4px;
      border-radius: 50%;
      position: relative;
      padding: 9px;
      background-color: white;
      margin: 0 auto;
      border: 2px solid #DFE2E9;
    }

    .page-steps .page-step-component:first-child .item-icon:before{
      display: none;
    }

    .page-steps .page-step-component .item-icon:before {
      content: "";
      width: 150px;
      height: 3px;
      background-color: var(--border-color);
      position: absolute;
      display: inline-block;
      right: 0;
      z-index: -1;
    }


    .page-steps .page-step-component .item-content {
      width: 150px;
      height: 52px;
      background: white;
      border: 1px solid #DFE2E9;
      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .04);
      border-radius: 4px;
      align-content: center;
      justify-content: center;
      flex-direction: column;
      opacity: 0;
      transform: translateY(5px);
      transition: transform .3s ease, opacity .3s ease;
      bottom: 90px;
      position: relative;
      z-index: 1;
    }

    .page-steps .page-step-component .item-content:after {
      content: "";
      display: block;
      width: 14px;
      height: 14px;
      background: white;
      border: 1px solid #DFE2E9;
      transform: rotate(45deg);
      border-top: 0;
      border-left: 0;
      box-shadow: 3px 3px 3px 0 rgba(0, 0, 0, .02);
      position: absolute;
      margin-top: 3px;
      margin-left: 68px;
      z-index: -1;
    }

    .page-steps .page-step-component .item-icon{
      background: var(--background-color);
    }

    .page-steps .page-step-component.step-in-progress .item-icon {
      background: white;
    }

    .page-steps .page-step-component.step-in-progress .item-icon:after {
      position: absolute;
      content: "";
      display: inline-block;
      width: 10px;
      height: 10px;
      left: 6px;
      top: 6px;
      background-color: var(--blue);
      border-radius: 50%;
    }

    .page-steps .page-step-component.step-in-progress .item-content {
      opacity: 1;
      transition: transform .3s ease, opacity .3s ease;
      transform: translateY(-5px);
    }

    .page-steps:hover .item-content {
      transform: translateY(5px);
      opacity: 0 !important;
      transition: transform .3s ease, opacity .3s ease;
    }

    .page-steps .page-step-component:hover .item-content {
      transform: translateY(-5px);
      opacity: 1 !important;
      transition: transform .3s ease, opacity .3s ease;
    }

    a {
      text-decoration:none;
    }

    button.redirect-to-market{
      position: absolute;
      right: 25px;
      border-radius: 20px;
      width: 260px;
      height: 38px;
      top: 16px;
      border: solid 1px var(--light-periwinkle-two);
      background-color: var(--white);
      line-height: 1.5;
      cursor: pointer;
    }

    .redirect-to-market>div{
      float: left;
    }

    .redirect-to-market-content{
      width: 90%;
      height: 18px;
      font-family: Roboto;
      font-size: 14px;
      font-weight: 600;
      font-stretch: normal;
      font-style: normal;
      line-height: 1.29;
      letter-spacing: normal;
      text-align: center;
      color: var(--blue);
      margin-left: 6px;
    }

    .redirect-to-market-right-angle{
      width: 13px;
      height: 13px;
      position: absolute;
      right: 18px;
      top: 12px;
    }

    .redirect-to-market-right-angle-icon{
      width: 7px;
      height: 7px;
      border-top: 2px solid var(--blue);
      border-right: 2px solid var(--blue);
      transform: rotate(45deg);
      margin-top: 1px;
    }

    button.redirect-to-market-mobile{
      display: none;
    }

    @media only screen and (max-width: 767px) {
        .navbar {
            height: 59px;
        }

        .form-container {
            padding-top: 59px;
        }

        .navbar > div {
            height: 59px;
            width: 59px;
            border-right: none;
        }

        .navbar img {
            width: 32px;
            max-height: 32px;
        }

        .auth-form-center {
            width: 100%;
        }

        #sign-up-container,
        #sign-in-container,
        #verify-token-container {
            width: 100%;
            box-sizing: border-box;
        }

        .form-title {
            font-size: 26px;
            margin-top: 40px;
        }

        #verify-token-container .form-title {
            margin-top: 0;
        }

        .account-tab-item {
            width: 100%;
            box-sizing: border-box;
        }

        body {
            width: 100%;
            margin: 0;
        }

      button.redirect-to-market{
        display: none;
      }

      button.redirect-to-market-mobile{
        position: absolute;
        top: 18px;
        right: 25px;
        border-radius: 20px;
        width: 117px;
        height: 27px;
        border: solid 1px var(--light-periwinkle-two);
        background-color: var(--white);
        cursor: pointer;
        display: block;
      }

      .redirect-to-market-mobile > div{
        float: left;
      }

      .redirect-to-market-content-mobile{
        width: 70%;
        height: 18px;
        font-family: Roboto;
        font-size: 12px;
        font-weight: 600;
        font-stretch: normal;
        font-style: normal;
        letter-spacing: normal;
        color: var(--blue);
        text-align: left;
        margin-left: 12px;
        line-height: 18px;
      }

      .redirect-to-market-right-angle-icon-mobile{
        width: 5px;
        height: 5px;
        border-top: 2px solid var(--blue);
        border-right: 2px solid var(--blue);
        transform: rotate(45deg);
        position: absolute;
        right: 10px;
        top: 9px;
      }
    }
  </style>
</head>
<body onload="autoFillUserEmail()">
<div class="navbar">
  <div onclick="showSignIn()">
    <img src="##ENVIRONMENT_URL##/image/logo.simplyhired.png" alt="logo" />
  </div>
  <button id="redirect-to-market" class="redirect-to-market" onclick="redirectToMarket()">
    <div class="redirect-to-market-content">SimplyHired HR - Learn More</div>
    <div class="redirect-to-market-right-angle">
      <div class="redirect-to-market-right-angle-icon"/>
    </div>
  </button>
  <button id="redirect-to-market-mobile" class="redirect-to-market-mobile" onclick="redirectToMarket()">
    <div class="redirect-to-market-content-mobile">SimplyHired</div>
    <div class="redirect-to-market-right-angle-icon-mobile"/>
  </button>
</div>
<div class="form-container">
  <div class="auth-form">
    <div id="error-message-container">
      <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDhweCIgaGVpZ2h0PSI0OHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi13YXJuaW5nPC90aXRsZT4KICAgIDxkZXNjPjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJpY29uLXdhcm5pbmciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwb2x5Z29uIGlkPSJTaGFwZSIgcG9pbnRzPSIwIDAgNDggMCA0OCA0OCAwIDQ4Ij48L3BvbHlnb24+CiAgICAgICAgPHBhdGggZD0iTTIyLDMwIEwyNiwzMCBMMjYsMzQgTDIyLDM0IEwyMiwzMCBaIE0yMiwxNCBMMjYsMTQgTDI2LDI2IEwyMiwyNiBMMjIsMTQgWiBNMjMuOTgsNCBDMTIuOTQsNCA0LDEyLjk2IDQsMjQgQzQsMzUuMDQgMTIuOTQsNDQgMjMuOTgsNDQgQzM1LjA0LDQ0IDQ0LDM1LjA0IDQ0LDI0IEM0NCwxMi45NiAzNS4wNCw0IDIzLjk4LDQgWiBNMjQsNDAgQzE1LjE2LDQwIDgsMzIuODQgOCwyNCBDOCwxNS4xNiAxNS4xNiw4IDI0LDggQzMyLjg0LDggNDAsMTUuMTYgNDAsMjQgQzQwLDMyLjg0IDMyLjg0LDQwIDI0LDQwIFoiIGlkPSJTaGFwZSIgZmlsbD0iI0QzMUUyRSIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPgo=" alt="warning" />
      <div id="error-message">Invalid sign up.</div>
    </div>
    <br>
    <div class="auth-form-center">
      <div id="sign-in-container">
        <h1 class="form-title">Sign In</h1>
        <div class="account-tab-item" id="sign-in" tabindex="0">
          <div class="form-item">
            <div class="form-label">Work Email&nbsp;*</div>
            <div class="form-input">
              <div class="input-prefix">
                <img src="##ENVIRONMENT_URL##/image/Email.svg" alt="email" />
              </div>
              <input id="sign-in-email" name="sign-in-email" type="text"
                     onkeyup="checkSignInEmail(event);" />
              <span class="error-tip-container"><span class="error-img"><img
                  src="##ENVIRONMENT_URL##/image/Warning.svg"></span><span
                  class="error-info">Please enter a valid email.</span></span>
            </div>
          </div>
          <div class="form-item">
            <div class="form-label">Password&nbsp;*</div>
            <div class="form-input">
              <div class="input-prefix">
                <img src="##ENVIRONMENT_URL##/image/Lock.svg" alt="password" />
              </div>
              <input id="sign-in-password" name="sign-in-password" type="password"
                     onkeyup="checkSignInPassword(event);" />
              <span class="error-tip-container">
                <span class="error-img">
                <img src="##ENVIRONMENT_URL##/image/Warning.svg">
              </span>
                <span class="error-info">Please enter a password.</span>
              </span>
            </div>
          </div>
          <div class="form-submit-button">
            <button class="is-primary is-rounded sign-up-button-text" id="sign-in-button">Sign In
            </button>
          </div>
          <span class="form-tip" onclick="forgotPassword()">Forgot your password?</span>
          <span class="form-tip" onclick="showSignUp()">Create an organization account.</span>
          <div class="line"></div>
          <div class="form-tip" id="privacy-policy-tip">
            <a href="##ENVIRONMENT_URL##/privacy" target="_blank">Read our Privacy Policy.</a>
          </div>
        </div>
      </div>

      <div id="sign-up-container">
        <h1 class="form-title">Sign Up</h1>

        <div class="page-steps">
          <div class="page-step-component step-in-progress">
            <div class="item-icon"></div>
            <div class="item-content">
              <div class="item-title">Step 1</div>
              <div class="item-description">Create Account</div>
            </div>
          </div>
          <div class="page-step-component">
            <div class="item-icon"></div>
            <div class="item-content">
              <div class="item-title">Step 2</div>
              <div class="item-description">Additional Information</div>
            </div>
          </div>
        </div>


        <div class="account-tab-item" id="sign-up" tabindex="0">
          <div class="form-item">
            <div class="form-label">Work Email&nbsp;*</div>
            <div class="form-input">
              <div class="input-prefix">
                <img src="##ENVIRONMENT_URL##/image/Email.svg" alt="email" />
              </div>
              <input id="sign-up-email" onkeyup="checkSignUpEmail(event);" />
              <span class="error-tip-container"><span class="error-img"><img
                  src="##ENVIRONMENT_URL##/image/Warning.svg"></span><span
                  class="error-info">Please enter a valid email.</span></span>
            </div>
          </div>
          <div class="form-item">
            <div class="form-label">Password&nbsp;*</div>
            <div class="form-input">
              <div class="input-prefix">
                <img src="##ENVIRONMENT_URL##/image/Lock.svg" alt="password" />
              </div>
              <input id="sign-up-password" type="password" onkeyup="checkSignUpPassword(event);" />
              <span class="error-tip-container"><span class="error-img"><img
                  src="##ENVIRONMENT_URL##/image/Warning.svg"></span><span
                  class="error-info">Please enter a password.</span></span>
              <span class="error-not-blank-tip-container"><span class="error-img"><img
                      src="https://hr.simplyhired-dev.com/image/Warning.svg"></span><span
                      class="error-info">Please don't start or end with spaces.</span></span>
            </div>
            <div class="sign-up-password-tip-container">
              <p class="sign-up-password-tip">
                <span class="sign-up-password-helper sign-up-password-helper-dot"></span>
                8 or more characters
              </p>
              <p class="sign-up-password-tip sign-up-password-rule-passed">
                <img class="sign-up-password-helper"
                     src="##ENVIRONMENT_URL##/image/Check.svg" alt="success" />
                8 or more characters
              </p>
              <p class="sign-up-password-tip">
                <span class="sign-up-password-helper sign-up-password-helper-dot"></span>
                At least 1 lowercase
              </p>
              <p class="sign-up-password-tip sign-up-password-rule-passed">
                <img class="sign-up-password-helper"
                     src="##ENVIRONMENT_URL##/image/Check.svg" alt="success" />
                At least 1 lowercase
              </p>
              <p class="sign-up-password-tip">
                <span class="sign-up-password-helper sign-up-password-helper-dot"></span>
                At least 1 uppercase
              </p>
              <p class="sign-up-password-tip sign-up-password-rule-passed">
                <img class="sign-up-password-helper"
                     src="##ENVIRONMENT_URL##/image/Check.svg" alt="success" />
                At least 1 uppercase
              </p>
              <p class="sign-up-password-tip">
                <span class="sign-up-password-helper sign-up-password-helper-dot"></span>
                At least 1 number
              </p>
              <p class="sign-up-password-tip sign-up-password-rule-passed">
                <img class="sign-up-password-helper"
                     src="##ENVIRONMENT_URL##/image/Check.svg" alt="success" />
                At least 1 number
              </p>
            </div>
          </div>
          <div class="service-and-policy">
            <p class="policy-description">
              By creating an account, you agree to SimplyHired&rsquo;s
              <a href="##ENVIRONMENT_URL##/privacy" target="_blank"> HRIS Service Privacy Policy</a>.
              You also consent to receiving marketing messages from SimplyHired and may opt out from receiving such
              messages by following the unsubscribe link in our messages or by contacting us at privacyoffice@simplyhired.com.
            </p>
          </div>
          <div class="line"></div>
          <div class="form-submit-button">
            <button id="sign-up-button">Create Account</button>
          </div>
          <span class="form-tip" onclick="showSignIn()">Already have an employer account?</span>
        </div>
      </div>
      <div id="verify-token-container">
        <h1 class="form-title">Verify Token</h1>
        <div class="account-tab-item" id="verify-token" tabindex="0">
          <div class="form-item">
            <div class="form-label">Token&nbsp;*</div>
            <div class="form-input">
              <div class="input-prefix">
                <img src="##ENVIRONMENT_URL##/image/Lock.svg" alt="password" />
              </div>
              <input id="token" name="sign-in-email" type="password" />
              <span id="token-error" class="error-tip-container">
                <span class="error-img">
                <img src="##ENVIRONMENT_URL##/image/Warning.svg">
              </span>
                <span class="error-info">Please enter the correct token.</span>
              </span>
            </div>
          </div>
          <div class="form-submit-button">
            <button
                id="token-button"
                onclick="verifyToken()"
                class="is-primary is-rounded sign-up-button-text"
            >
              Verify
            </button>
          </div>
        </div>
      </div>
    </div>
    <p class="required-tip">* Required Fields</p>
  </div>
</div>
<script src="https://cdn.auth0.com/js/auth0/9.11.2/auth0.min.js"></script>
<script src="https://cdn.auth0.com/js/polyfills/1.0/object-assign.min.js"></script>
<script>
  var applicationDomain = '##ENVIRONMENT_URL##';
  var tokenName = 'sign-up-token';
  var tokenValue = '##BETA_TOKEN##';

  function autoFillUserEmail() {
    try {
      var urlParams = window.location.search;
      var theRequest = new Object();
      var strs = urlParams.split("&");
      for (var i = 0; i < strs.length; i++) {
        theRequest[strs[i].split("=")[0]] = decodeURI(strs[i].split("=")[1]);
      }
      let result = null;
      if (theRequest["userToEmail"] !== undefined) {
        result = atob(decodeURIComponent(theRequest["userToEmail"])).split('').reverse().join('');
      }
      if (result !== null) {
        document.getElementById("sign-in-email").value = result
      }
    } catch (e) {
      return '';
    }
  }

  function showSignUp() {
    document.getElementById('sign-in-container').style.display = 'none';

    var token = getItem(tokenName);
    if (token.trim() !== tokenValue.trim()) {
      document.getElementById('sign-up-container').style.display = 'none';
      document.getElementById('verify-token-container').style.display = 'inline-block';
    } else {
      document.getElementById('sign-up-container').style.display = 'inline-block';
    }
  }

  function getItem(sKey) {
    return decodeURIComponent(document.cookie.replace(
      new RegExp('(?:(?:^|.*;)\\s*' + encodeURIComponent(sKey).replace(/[-.+*]/g, '\\$&')
      + '\\s*\\=\\s*([^;]*).*$)|^.*$'), '$1')) || '';
  }

  function showSignIn() {
    document.getElementById('sign-up-container').style.display = 'none';
    document.getElementById('verify-token-container').style.display = 'none';
    document.getElementById('sign-in-container').style.display = 'inline-block';
  }

  function verifyToken() {
    var token = document.querySelector('#token').value;
    if (token.trim() === tokenValue.trim()) {
      document.cookie = `${tokenName}=${tokenValue}`;
      document.getElementById('sign-up-container').style.display = 'inline-block';
      document.getElementById('token-error').style.display = 'none';
      document.getElementById('verify-token-container').style.display = 'none';
      document.getElementById('sign-in-container').style.display = 'none';
    }else {
      document.getElementById('token-error').style.display = 'block';
    }
  }

  function forgotPassword() {
    window.location.href = applicationDomain + '/account/forget-password';
  }

  var currentUrl = location.href;
  var actionMatch = currentUrl.match(/action=(\w+)(&.*)?$/);
  if (actionMatch && (action = actionMatch[1]) === 'signup') {
    showSignUp();
  } else {
    showSignIn();
  }

  function checkSignInEmail(event) {
    var email = event.target.value;
    checkEmail(email, 0);
  }

  function checkSignInPassword(event) {
    var password = event.target.value;
    checkPassword(password, 1);
  }

  function checkSignUpEmail(event) {
    var email = event.target.value;
    checkEmail(email, 2);
  }

  function checkEmail(value, index) {
    if (!value
      || !/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\.(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+)+$/.test(
        value)) {
      document.querySelectorAll('.error-tip-container').item(index).style.display = 'block';
      return false;
    } else {
      document.querySelectorAll('.error-tip-container').item(index).style.display = 'none';
      return true;
    }
  }

  function checkSignUpPassword(event) {

    var password = event.target.value;

    checkSignUpPasswordValue(password);
  }

  function checkSignUpPasswordValue(password) {
    var passwordValid = checkPassword(password, 3);

    if (!password || password.length < 8) {
      changePasswordTip(0, true);
      passwordValid = false;
    } else {
      changePasswordTip(0, false);
      passwordValid = passwordValid && true;
    }

    if (!password || /^[^a-z]+$/.test(password)) {
      changePasswordTip(1, true);
      passwordValid = false;
    } else {
      changePasswordTip(1, false);
      passwordValid = passwordValid && true;
    }

    if (!password || /^[^A-Z]+$/.test(password)) {
      changePasswordTip(2, true);
      passwordValid = false;
    } else {
      changePasswordTip(2, false);
      passwordValid = passwordValid && true;
    }

    if (!password || /^[^0-9]+$/.test(password)) {
      changePasswordTip(3, true);
      passwordValid = false;
    } else {
      changePasswordTip(3, false);
      passwordValid = passwordValid && true;
    }

    return passwordValid;
  }

  function changePasswordTip(index, visible) {
    document.querySelectorAll('.sign-up-password-rule-passed').item(index).style.display = visible
      ? 'none' : 'block';
    document.querySelectorAll('p.sign-up-password-tip:not(.sign-up-password-rule-passed)').item(
      index).style.display = visible ? 'block' : 'none';
  }

  function checkPassword(value, index) {
    if (!value) {
      document.querySelectorAll('.error-not-blank-tip-container').item(0).style.display = 'none';
      document.querySelectorAll('.error-tip-container').item(index).style.display = 'block';
      return false;
    } else {
      document.querySelectorAll('.error-tip-container').item(index).style.display = 'none';
      document.querySelectorAll('.error-not-blank-tip-container').item(0).style.display = 'none';
      if (document.getElementById('sign-up-container').style.display != 'none') {
        if (value.charAt(0) === ' ' || value.charAt(value.length - 1) === ' ') {
          document.querySelectorAll('.error-not-blank-tip-container').item(0).style.display = 'block';
        }
      }
      return true;
    }
  }

  window.addEventListener('load', function () {

    var config = JSON.parse(
      decodeURIComponent(escape(window.atob('@@config@@'))),
    );

    var params = Object.assign({
      // additional configuration needed for use of custom domains
      overrides: {
        __tenant: config.auth0Tenant,
        __token_issuer: config.authorizationServer.issuer,
      },
      domain: config.auth0Domain,
      clientID: config.clientID,
      redirectUri: config.callbackURL,
      responseType: 'code',
    }, config.internalOptions);

    var webAuth = new auth0.WebAuth(params);

    var databaseConnection = 'hrs-data-store';

    function displayError(err) {
      var errorMessage = document.getElementById('error-message');
      switch (err.code) {
        case 'invalid_password':
          errorMessage.innerHTML = 'Password is too weak.'; break;
        case 'user_exists':
        case 'invalid_user_password':
          errorMessage.innerHTML = err.description; break;
        default:
          errorMessage.innerHTML = 'Unknown error.';
      }

      var errorMessageContainer = document.getElementById('error-message-container');
      errorMessageContainer.style.display = 'flex';
      setTimeout(function () {
        errorMessageContainer.style.display = 'none';
      }, 3000);
    }

    function enableButton(index) {
      document.querySelectorAll('button').item(index).disabled = false;
    }

    function disableButton(index) {
      document.querySelectorAll('button').item(index).disabled = true;
    }

    function signIn(event) {
      event.preventDefault();

      var email = document.querySelector('#sign-in-email').value;
      var password = document.querySelector('#sign-in-password').value;

      var emailValid = checkEmail(email, 0);
      var passwordValid = checkPassword(password, 1);

      if (emailValid && passwordValid) {
        disableButton(2);
        webAuth.login({
          realm: databaseConnection,
          username: email,
          password: password,
        }, function (err) {
          enableButton(2);
          if (err) {
            displayError(err);
          }
        });
      }
    }

    function signUp(event) {
      event.preventDefault();
      var email = document.querySelector('#sign-up-email').value;
      var password = document.querySelector('#sign-up-password').value;

      var emailValid = checkEmail(email, 2);
      var passwordValid = checkPassword(password, 3);

      if (emailValid && passwordValid) {
        disableButton(3);
        webAuth.signup({
          connection: databaseConnection,
          email: email,
          password: password,
        }, function (err) {
          if (err) {
            enableButton(3);
            return displayError(err);
          }

          return window.location.href = applicationDomain + '/account/sign-up/done';
        });
      }
    }

    var signInButton = document.querySelector('#sign-in-button');
    var signUpButton = document.querySelector('#sign-up-button');
    signInButton.addEventListener('click', signIn);
    signUpButton.addEventListener('click', signUp);

    function onPressEnter(event, element) {
      if (event.keyCode === 13) {
        element.click();
      }
    }

    function onSignInKeyDown(event) {
      onPressEnter(event, signInButton);
    }

    function onSignUpKeyDown(event) {
      onPressEnter(event, signUpButton);
    }

    document.querySelector('#sign-in').addEventListener('keyup', onSignInKeyDown);
    document.querySelector('#sign-up').addEventListener('keyup', onSignUpKeyDown);
  });

  function redirectToMarket() {
    window.location.href='https://www.simplyhired.com/hris';
  }
</script>
</body>
</html>
